<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1.0, maximum-scale=1.0" />
	<title>TTangÂ·blog</title>


	<style type="text/css">

		body {
			margin: 0;
			padding: 0;
		}

		header {
			position: fixed;
			top: 0;
			width: 100%;
			height: 60px;
			background-color: #2196F3;
		}

		.boxShadow {
			box-shadow: 0px 5px 5px -4px gray;
		}
		.rightBoxShadow {
			/*box-shadow: 0px 5px -5px 4px gray;	*/
		}

		ul {
			/*border-right: solid 1px black;*/
			/*overflow: hidden;*/
			margin-top: 0;
			margin-bottom: 0;
		}

		#blogTitle li {
			border-bottom: solid 1px black;
			padding: 15px 10px 15px 0px;
			transition: all 0.2s linear;
		}
		#blogTitle li:hover {
			cursor:pointer;
			background: #2196F3;
			color: white;
		}

		#blogTitle{
			/*float: left;*/
			/*background: #BBDEFB;*/
			/*background-color: #90CAF9;*/
			border-right: solid 5px #90CAF9; 
			background-color: white; 
			z-index: 100;
			height: 100%;
			position: fixed;
			/*position: fixed;*/
			overflow-y: scroll;
			width: 300px;
			/*display: block;*/
			left: 0px;
			top: 60px;
			/*margin: 20px 0px;*/
			transition: all 0.2s linear;
		}

		#blogContent{
			
			padding: 60px 20px 20px 50px;
			/*padding-left: 50px;*/
			margin-left: 350px;
			transition: all 0.2s linear;
		}


		#list-icon {
			padding-top: 15px;
			margin-left: 15px;
			text-align: center;
			left: 20px;	
			display: none;
		}

		#list-icon:hover {
			cursor: pointer;
		}

		.icons {
			height: 43px;
			width: 50px;
		}

		
		.icon {
		    display: inline-block;
		    width: 2em;
		    height: 2em;
		    fill: #4FC3F7;
		    /*fill: currentColor;*/
		}

		@media screen and (max-width: 600px){

			#list-icon {
				display: block;
			}

			#blogTitle{
				left: -350px;
				position: absolute;
				/**/
			}

			#blogContent{
				padding-left: 0px;
				margin-left: 0px;
				/*display:none;*/
			}
		}

	</style>

</head>
<body class="">

<svg style="position: absolute; width: 0; height: 0;" width="0" height="0" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<defs>
<symbol id="icon-list" viewBox="0 0 1024 1024">
<title>list</title>
<path class="path1" d="M0 0h256v256h-256zM384 64h640v128h-640zM0 384h256v256h-256zM384 448h640v128h-640zM0 768h256v256h-256zM384 832h640v128h-640z"></path>
</symbol>
</defs>
</svg>

	<header class="boxShadow">
		<div class="icons" id="list-icon" onclick="showList()">
	        <svg class="icon icon-list"><use xlink:href="#icon-list"></use></svg>
	    </div>
    </header>

	<!--  -->
	<div id="blogContent" onclick="hiddenList()">
		<p>blogConten blogConten blogConten blogConten blogConten blogConten blogConten blogConten blogConten blogConten blogConten blogConten blogConten blogConten blogConten blogConten blogConten blogConten blogConten blogConten blogConten blogConten blogConten blogConten blogConten blogConten blogConten blogConten blogConten blogConten blogConten blogConten blogConten blogConten blogConten blogConten blogConten blogConten blogConten blogConten blogConten blogConten blogConten blogConten blogConten blogConten blogConten blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
		<p>blogConten</p>
	</div>


	<ul id="blogTitle" class="rightBoxShadow">			
	</ul>

	<script type="text/javascript">
		function showList () {
			if (blogTitle.style.left === "0px") {
				blogTitle.style.left = "-350px";
				// blogContent.style.display = "block";
				blogContent.style.position = ""
			}else {
				blogTitle.style.left = "0px";
				// blogContent.style.display = "none";
				blogContent.style.position = "fixed"
			}
		}

		function hiddenList () {

			var w = window,
			    d = document,
			    e = d.documentElement,
			    g = d.getElementsByTagName('body')[0],
			    x = w.innerWidth || e.clientWidth || g.clientWidth,
			    y = w.innerHeight|| e.clientHeight|| g.clientHeight;
			if (x <= 600) {
				blogTitle.style.left = "-350px";
				blogContent.style.position = ""
			}
			
			// blogContent.style.display = "block";	
		}
	</script>
	<script type="text/javascript">

		(function () {
			function makeRequest(url, callback) {
				url = url
				method = "GET"
				body = ""
				var bodyStr = ""
				if (window.XMLHttpRequest) { // Mozilla, Safari, ...
					httpRequest = new XMLHttpRequest();
				} else if (window.ActiveXObject) { // IE
					try {
						httpRequest = new ActiveXObject("Msxml2.XMLHTTP");
					} catch (e) {
						try {
							httpRequest = new ActiveXObject("Microsoft.XMLHTTP");
						} catch (e) {
						}
					}
				}
				if (!httpRequest) {
					alert('Giving up :( Cannot create an XMLHTTP instance');
					return false;
				}
				httpRequest.onreadystatechange = function () {
					if (httpRequest.readyState === 4) {
						
						if (httpRequest.status === 200) {
							callback(httpRequest.responseText)
						} else {
							alert('There was a problem with the request.');
						}
					}
				}
				
				httpRequest.open(method, url);
				httpRequest.setRequestHeader('Content-Type', 'application/json');
				httpRequest.send(bodyStr);
			}
			window.makeRequest = makeRequest
		})()
	</script>

	<script type="text/javascript">

		function requestTitle () {
			var liCell = '<li id={{id}} onclick="requestBlog(this, event)" >{{title}}</li>'
			makeRequest("/blogs", function blogs (data) {
				data = JSON.parse(data);
				var str = "";

				for (var i = 0; i < data.length; i++) {
					var item = data[i];
					var cell = liCell;

					cell = cell.replace("{{id}}", item.id)
								.replace("{{title}}", item.title)
					str += cell;
				};

				blogTitle.innerHTML = str
			})
		}

		function requestBlog (elem, event) {
			
			hiddenList()
			
			
			var id = elem.getAttribute("id");
			makeRequest("/blog/"+id, function blog (data) {
				console.log(data)	
			})
		}

	</script>

	

	<script type="text/javascript">
		window.onload = function () {
			requestTitle()

			var w = window,
			    d = document,
			    e = d.documentElement,
			    g = d.getElementsByTagName('body')[0],
			    x = w.innerWidth || e.clientWidth || g.clientWidth,
			    y = w.innerHeight|| e.clientHeight|| g.clientHeight;

			blogTitle.style.height = (y - 65)+"px"
		}

		window.onresize = function(event) {
		    
		    var w = window,
			    d = document,
			    e = d.documentElement,
			    g = d.getElementsByTagName('body')[0],
			    x = w.innerWidth || e.clientWidth || g.clientWidth,
			    y = w.innerHeight|| e.clientHeight|| g.clientHeight;

			blogTitle.style.height = (y - 65)+"px"
			if (x > 600) {
				blogTitle.style.left = ""
				blogContent.style.display = ""
			}
		};
	</script>
</body>
</html>